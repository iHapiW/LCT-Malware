#include "credentials.h"

void deallocCreds(credList* Credentials)
{
        for(register int i = 0; i < Credentials->size; i++)
        {
            free(Credentials->creds[i].url);
            free(Credentials->creds[i].username);
            free(Credentials->creds[i].password);
        }

        free(Credentials->creds);
        free(Credentials);
}

JsonNode* credentialToJson(Credential* cred)
{
    JsonNode* root = json_mkobject();
    JsonNode* url = json_mkstring(cred->url);
    JsonNode* username = json_mkstring(cred->username);
    JsonNode* password = json_mkstring(cred->password);

    json_append_member(root, "url", url);
    json_append_member(root, "username", username);
    json_append_member(root, "password", password);

    return root;
}
